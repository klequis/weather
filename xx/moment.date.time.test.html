<!--
  > weather 06.html is derived from weather03.html
-->

<!DOCTYPE html>
<html>
<head>
	<!-- <script src="//code.jquery.com/jquery-2.1.1.min.js"></script> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	 <script src="moment.js"></script>
   <script src="moment-timezone-with-data.min.js"></script>
	<!--<link rel="stylesheet" type="text/css" href="style.css">-->
    <meta charset="utf-8">
    <title>Weather</title>
</head>
<body>
<a name="#ajax-getjson-example"></a>
<div id="example-section38">   
    <div><h3>Date/Time Formatting</h3></div>
    <div id="div381"></div>
    
    <div id="output"></div>
</div>
</body>
</html>
<script> 


$(function(){
  setInterval(function(){
    var divUtc = $('#divUTC');
    var divLocal = $('#divLocal');  
    //put UTC time into divUTC  
    divUtc.text(moment.utc().format('YYYY-MM-DD HH:mm:ss'));      
    
    //get text from divUTC and conver to local timezone  
    var localTime  = moment.utc(divUtc.text()).toDate();
    localTime = moment.tz(localTime).format('YYYY-MM-DD HH:mm:ss');
    divLocal.text(localTime);        
  },1000);
});

function br() {
  document.write("<br>");
}

function writeMessage(label, msg) {
  document.write(label + ": " + msg);
  br();
}

function timeStamp() {
  // one approach to timestamp generation
  //  http://www.onlineconversion.com/unix_time.htm
  //  4/25/2016 06:04:00, Mon, 25 Apr 2016 06:04:00 GMT
  //return "1461564240";

  return Math.round(new Date().getTime()/1000.0).toString(); //getTime() returns time in 
  
}

$(document).ready(function () {
  /* one approach to timestamp generation
  	http://www.onlineconversion.com/unix_time.htm
    4/25/2016 06:04:00, Mon, 25 Apr 2016 06:04:00 GMT
    timeStamp = "1461564240";
  */

  /* Another approach 
  //timeStamp = Math.round(new Date().getTime()/1000.0) //getTime() returns time in milliseconds.
  writeMessage("timestamp", timeStamp);
	
	var dateTime = moment.unix(timeStamp).format('YYYY-MM-DD HH:mm:ss');
  document.write(timeStamp);
	//writeMessage("Date/time", dateTime);
  br();
  */

  //var value = $("#unixtime").val(); //this retrieves the unix timestamp
  var value = timeStamp();
  writeMessage("value", value);
  //var dateString = moment(value).calendar(); 
  document.write(moment.unix(value).format('z'));
  var dateString = moment.unix(value).format("MM/DD/YYYY HH:mm:ss");
  writeMessage("dateString", dateString);
  
	
});
	
</script>
