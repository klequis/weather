<!-- 
  > Same as weather01.htmp excapt trying jsonp instead of json 
  > Based on examplt at http://jsfiddle.net/a5Dqv/1/

-->

<!-- appid="cd605b9a7b8b517b82492ee7bf47a295" -->

<!DOCTYPE html>
<html>
<head>
<!-- <script src="//code.jquery.com/jquery-2.1.1.min.js"></script> -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="style.css">

  <meta charset="utf-8">
  <title>Weather</title>
  <script>
  var quote = "";
  var author = "";
  function openURL(url){
    window.open(url, 'Share', 'width=550, height=400, toolbar=0, scrollbars=1 ,location=0 ,statusbar=0,menubar=0, resizable=0');
  }
  function inIframe () { 
    try { 
      return window.self !== window.top; 
    } 
    catch (e) { 
      return true; 
    } 
  }
	function getQuote() { 
    $.ajax({

      dataType: "jsonp",

      /* URL
        > cityID for San Ramon, CA = 5392593

      */
      
      // forecast
      //url: 'api.openweathermap.org/data/2.5/forecast/city?id=5392593&APPID=cd605b9a7b8b517b82492ee7bf47a295',
      // weather
      url: 'api.openweathermap.org/data/2.5/forecast/city?id=5392593&APPID=cd605b9a7b8b517b82492ee7bf47a295',

      jsonCallback: 'jsonp',
      //data: {}, // I don't need bec already embedded in my url
      //type:"GET", // Was not in the example I'm following
      cache: false,
      success: function (data) {
        callback(data);
      }
      
    })
};


</script>
</head>
<body>

<h2>Famous Movie Quotes</h2>
<div id="output">The API request is:</div>
<button id="tweet-button" class="btn" href="https://twitter.com/intent/tweet"><i class="fa fa-twitter" aria-hidden="true"> Tweet this quote</i></button>
<br>
<button id="btngetquote" class="btn">Get next quote</button>  
<script>
$(document).ready(function() {
  //alert("ready!!");
  getQuote();


  $('#tweet-button').on('click', function() {

    alert(JSON.stringify(data));    
    
    })

  });

</script>
</body>
</html>